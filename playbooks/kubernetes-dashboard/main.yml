---
- hosts: master
  gather_facts: False
  tasks:

  - name: create dashboard yaml directory
    file:
      path: ~/.kubernetes-yaml/kubernetes-dashboard/
      state: directory
      mode: 0755

  - name: copy dashboard deployment file
    template:
      src: kubernetes-dashboard.yaml
      dest: ~/.kubernetes-yaml/kubernetes-dashboard/kubernetes-dashboard.yaml

  - name: apply dashboard
    command: >
      kubectl apply -f
       $HOME/.kubernetes-yaml/kubernetes-dashboard/kubernetes-dashboard.yaml
